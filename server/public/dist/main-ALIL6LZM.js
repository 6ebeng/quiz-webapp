import{a as C,b as F}from"./chunk-WJEUQDWI.js";import{a as O}from"./chunk-MO4MMH3T.js";import{a as N}from"./chunk-7Q2W3WOB.js";import"./chunk-JCB5TGMI.js";import"./chunk-CWH6PA5D.js";import{a as z}from"./chunk-OUOEYDVS.js";import{a as R}from"./chunk-REGAKL7E.js";import"./chunk-YHWA4QS3.js";import{A as d,Ab as I,Cb as j,Sa as y,Ta as w,Ua as P,V as x,Wa as E,Xa as v,Y as m,Z as h,_a as M,da as i,db as l,ea as n,fa as s,h as S,i as A,oa as r,x as u,y as f,zb as b}from"./chunk-CLOBPWEO.js";var T=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-pagenotfound"]],standalone:!1,decls:7,vars:0,consts:[[1,"container"],[1,"row","mt-5","mb-3","justify-content-center"],[1,"col-md-4","text-center"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1"),r(4,"404"),n(),i(5,"p"),r(6,"The page you requested wasn't found."),n()()()())},styles:["h1[_ngcontent-%COMP%]{font-size:1.5em}"]})}}return t})();var _=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275cmp=m({type:t,selectors:[["app-welcome-page"]],standalone:!1,decls:36,vars:0,consts:[[1,"container"],[1,"row","justify-content-center"],[1,"d-flex","flex-column","col-md-9","col-xxl-7","px-md-4","mt-5","mt-md-5"],[1,"col-md-6","mb-4","mb-md-0"],[1,"col-md-6"],[1,"features"],[1,"test"]],template:function(o,a){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),r(5,"Welcome to Kweez!"),n()(),i(6,"div",4)(7,"div",5)(8,"p"),r(9,"Features:"),n(),i(10,"ul")(11,"li"),r(12,"Regular and timed quizzes"),n(),i(13,"li"),r(14,"Full administration"),n(),i(15,"li"),r(16,"OpenAI API integration: ask for hints or generate new questions"),n(),s(17,"hr"),n()(),i(18,"div",6)(19,"p"),r(20,"Test accounts:"),n(),i(21,"ul")(22,"li"),r(23,"username: "),i(24,"span"),r(25,"admin"),n(),r(26," password: "),i(27,"span"),r(28,"123"),n()(),i(29,"li"),r(30,"username: "),i(31,"span"),r(32,"user"),n(),r(33," password: "),i(34,"span"),r(35,"123"),n()()()()()()()())},styles:["h1[_ngcontent-%COMP%]{font-size:1.2em;font-weight:700}p[_ngcontent-%COMP%]{font-size:1em}.test[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:silver}ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{font-size:.9em}"]})}}return t})();var D=(()=>{class t{constructor(e,o){this.authService=e,this.router=o}canActivate(e,o){return this.authService.isAuthenticated()?!1:this.authService.isExpired()?!0:this.authService.whoAmI().pipe(A(a=>a.status!=="OK"?!0:(this.router.navigate(["/"]),!1)))}static{this.\u0275fac=function(o){return new(o||t)(d(l),d(v))}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var c=class{preload(g,e){return g.data&&g.data.preload?(console.log(`Preloading: ${g.path}`),e()):S(null)}};var L=[{path:"quiz",loadChildren:()=>import("./chunk-2OFAZRHY.js").then(t=>t.QuizModule),data:{preload:!0,delay:!1}},{path:"leaderboard",loadChildren:()=>import("./chunk-7CTHPXEC.js").then(t=>t.LeaderboardModule),data:{preload:!0,delay:!1}},{path:"admin",loadChildren:()=>import("./chunk-MMJB4IC6.js").then(t=>t.AdminModule),canActivate:[C]},{path:"user",loadChildren:()=>import("./chunk-7GICZ2TO.js").then(t=>t.UsersModule),canActivate:[C]},{path:"auth",loadChildren:()=>import("./chunk-YFYZC7VX.js").then(t=>t.AuthModule),canActivate:[D]},{path:"",pathMatch:"full",component:_},{path:"**",pathMatch:"full",component:T}],W=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=h({type:t})}static{this.\u0275inj=f({imports:[M.forRoot(L,{preloadingStrategy:c}),M]})}}return t})();var q=(()=>{class t{constructor(e,o){this.authService=e,this.router=o,this.title="projekt"}ngOnInit(){this.authService.whoAmI().subscribe({next:e=>{e.status==="OK"?console.log(e):this.router.navigate(["/"])},error:e=>{e.error.message==="Expired token"?(console.error("Expired token"),this.authService.expiredTk.next(!0),this.router.navigate(["/auth/login"])):console.error(e)}})}static{this.\u0275fac=function(o){return new(o||t)(x(l),x(v))}}static{this.\u0275cmp=m({type:t,selectors:[["app-root"]],standalone:!1,decls:4,vars:0,consts:[[1,"outlet"]],template:function(o,a){o&1&&(s(0,"app-navbar"),i(1,"div",0),s(2,"router-outlet"),n(),s(3,"app-footer"))},dependencies:[E,b,I],encapsulation:2})}}return t})();var B=(()=>{class t{constructor(e){this.auth=e}intercept(e,o){let a=this.auth.getToken();if(a){let G=e.clone({setHeaders:{Authorization:`Bearer ${a}`}});return o.handle(G)}else return o.handle(e)}static{this.\u0275fac=function(o){return new(o||t)(d(l))}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac})}}return t})();var K=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=h({type:t,bootstrap:[q]})}static{this.\u0275inj=f({providers:[{provide:P,useClass:B,multi:!0},c],imports:[w,W,j,z,R,F,N,O]})}}return t})();y().bootstrapModule(K).catch(t=>console.error(t));
