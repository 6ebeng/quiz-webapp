import{A as n,a as i,b as o,cb as d,g as c,x as u}from"./chunk-CLOBPWEO.js";var b=(()=>{class t{constructor(e){this.dataService=e,this.users=[],this.usersSubject=new c([]),this.dataService.getUsers().subscribe({next:s=>{console.log("Users: ",s),s.status==="OK"&&(this.users=s.users,this.usersSubject.next([...this.users]))},error:s=>{console.log(s)}})}getUsers(){return this.usersSubject}addUser(e){this.dataService.addUser(e).subscribe({next:s=>{console.log("Added: ",s),s.status==="OK"&&(this.users.push(o(i({},e),{id:s.insertId})),this.usersSubject.next([...this.users]))},error:s=>{console.log(s)}})}editUser(e){this.dataService.editUser(e).subscribe({next:s=>{console.log("Edited: ",s),s.status==="OK"&&(this.users[this.users.findIndex(r=>r.id==e.id)]=e,this.usersSubject.next([...this.users]))},error:s=>{console.log(s)}})}deleteUser(e){this.dataService.deleteUser(e).subscribe({next:s=>{console.log(s),s.status==="OK"&&(this.users.splice(this.users.findIndex(r=>r.id==e),1),this.usersSubject.next([...this.users]))},error:s=>{console.log(s)}})}getUser(e){return this.users.find(s=>s.id==e)}static{this.\u0275fac=function(s){return new(s||t)(n(d))}}static{this.\u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();export{b as a};
