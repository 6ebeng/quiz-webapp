# Quiz Web Application

A comprehensive platform for creating, delivering, and managing quizzes, built on the MEAN stack. This application allows users to create, take, and manage quizzes across various categories, featuring an administrative section and integration with OpenAI for AI-assisted features.

## Features

The Quiz Web App is designed with a rich set of features for both regular users and administrators:

### User & Authentication Features

- [cite_start]**User Registration & Login**: Secure user registration with password hashing (bcrypt) and JWT-based authentication[cite: 328, 334]. [cite_start]Users can register with a username, password, and email[cite: 26].
- [cite_start]**Role-Based Access**: The system supports 'user' and 'admin' roles with distinct permissions[cite: 14]. [cite_start]Administrative functions are restricted to users with the 'admin' role[cite: 39].
- [cite_start]**Profile Management**: Authenticated users can view and edit their profile, including their name, surname, age, and email[cite: 44, 45]. [cite_start]They can also upload and remove a profile image with a size limit of 200KB[cite: 48, 49, 51].

### Quiz & Gameplay Features

- [cite_start]**Quiz Dashboard**: All users, including anonymous visitors, can view the quiz dashboard [cite: 81][cite_start], which can be filtered by category and searched by title[cite: 83].
- [cite_start]**Timed and Untimed Quizzes**: Quizzes can have a time limit, and a countdown timer is displayed for timed quizzes[cite: 87]. [cite_start]The timer state is preserved in session storage to handle page refreshes[cite: 89].
- [cite_start]**AI-Powered Hints**: During a quiz, users can request hints for questions, which are generated by the OpenAI API[cite: 95, 103].
- **Scoring and Results**: Users receive immediate feedback and scoring upon quiz completion. [cite_start]Results, including score and time taken, are stored and displayed[cite: 92, 94].

### Administrative Features

- [cite_start]**Content Management**: Administrators have full CRUD (Create, Read, Update, Delete) capabilities for quizzes, categories, and questions[cite: 9].
- [cite_start]**User Management**: Admins can view all registered users, add new users, change user roles, and delete users[cite: 76, 77, 78, 80]. [cite_start]They cannot, however, delete their own account or change their own role[cite: 79, 80].
- [cite_start]**AI Question Generation**: Administrators can generate new quiz questions using the OpenAI API by providing a category and the number of desired answers[cite: 74, 101].

### Leaderboard

- [cite_start]A public leaderboard displays user statistics, including total quizzes taken, total score, and average score[cite: 96, 97]. [cite_start]The leaderboard can be sorted by various metrics in both ascending and descending order[cite: 99, 100].

## Architecture

The application is built using a **Client-Server Architecture** with a clear separation of concerns between the frontend and backend.

- **Frontend (Client)**: A Single-Page Application (SPA) built with **Angular**. It follows a **Component-Based Architecture**, with the UI structured into modules like `AuthModule`, `QuizModule`, and `AdminModule`.
- **Backend (Server)**: A **Node.js/Express.js** application that implements a **Layered Architecture**. This includes a Presentation Layer for handling API routes, a Service Layer for business logic, and a Data Access Layer (DAL) for interacting with the database.
- [cite_start]**Database**: **MongoDB** is used as the data store, following the MEAN stack convention[cite: 314].

[cite_start]The entire application is containerized using **Docker** for portability and ease of deployment[cite: 123, 340].

## Technology Stack

**Frontend:**

- Angular
- TypeScript
- Bootstrap
- Angular Material

**Backend:**

- Node.js
- Express.js
- MongoDB

**Authentication:**

- JSON Web Tokens (JWT)
- bcrypt

**API:**

- RESTful API
- OpenAI API (gpt-3.5-turbo)

**Deployment:**

- Docker
- Docker Compose

## Getting Started

### Prerequisites

- Docker and Docker Compose
- Node.js and npm

### Docker Deployment

1.  **Environment Variables**: The backend service in `docker-compose.yml` is configured to use an environment file located at `./server/.env`. Create this file and add the necessary variables for the database connection and OpenAI API key.
    ```
    DB_CONNECTION_STRING=mongodb://mongo:27017/quizdb
    OPENAI_API_KEY=your_openai_api_key
    SECRET=your_jwt_secret
    PORT=8080
    ```
2.  **Run with Docker Compose**:
    ```bash
    docker-compose up --build
    ```
    The application will be available at `http://localhost:4200`. The backend will be on port `8080`, and MongoDB on `27017`.

### Local Development

1.  **Backend Setup**:
    - Navigate to the `server` directory.
    - Create a `.env.development` file with your local MongoDB connection string and OpenAI key.
    - Install dependencies: `npm install`
    - Run the development server: `npm run dev`
2.  **Frontend Setup**:
    - Navigate to the `client` directory.
    - Install dependencies: `npm install`
    - Run the Angular development server: `npm start`
    - The client application will be available at `http://localhost:4200`.

## API Endpoints

The backend provides a RESTful API for various functionalities:

- `/auth` for login, registration, and token management.
- `/api/users` for user management.
- `/api/quizzes` for quiz management.
- `/api/categories` for category management.
- `/api/questions` for question management.
- `/openai` for generating questions and hints.

## Limitations

- The application has excluded the `public` folder and `.env` files from the backend.
- Backend checks are noted to be weak and could be improved for production-grade security.

## Contributors

- Tishko Salah Hawez
- Jenna Sarmad Al-Saadi
